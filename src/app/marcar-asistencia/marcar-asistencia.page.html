<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Marcar Asistencia</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="content-background">
  <div class="welcome-message">
    <h2>Bienvenido, {{ nombreUsuario }}</h2>
    <p>Correo: <strong>{{ correoUsuario }}</strong></p>
    <p>Fecha: <strong>{{ fecha }}</strong></p>
    <p>Hora: <strong>{{ horaActual }}</strong></p>
  </div>

  <div class="button-container">
    <ion-button expand="full" (click)="toggleCamera()" class="toggle-camera-button">
      {{ isCameraActive ? 'Desactivar Cámara' : 'Activar Cámara' }}
    </ion-button>

    <div *ngIf="isCameraActive && hasDevices" class="scanner-container">
      <zxing-scanner
        [devices]="availableDevices"
        [device]="selectedDevice"
        [start]="isCameraActive"
        (scanSuccess)="handleScanSuccess($event)"
      ></zxing-scanner>
    </div>

    <ion-button expand="full" (click)="marcarAsistencia()" class="mark-attendance-button">
      Marcar Asistencia
    </ion-button>

    <ion-button expand="full" (click)="marcarAsistenciaPrueba()" class="mark-attendance-prueba-button">
      Marcar Asistencia de Prueba
    </ion-button>
  </div>

  <div class="footer">
    <p>© 2024 Sistema de Asistencia</p>
  </div>
</ion-content>
